以下是根据《课程复习》的相关课件进行的知识点归纳与复习：

主要进行的是相关重要概念的解析：

# 第一章：数据库系统概述
## 如下内容：
- 数据管理技术的发展
- 数据库系统
- 数据模型与数据模式
- 数据库管理系统

## 重要概念
1. DB, DBMS, DBS的定义
DB: 长期存在于计算机中，有组织的，可共享的大量数据的集合；

DBS: 实现由组织、动态存储大量结构化数据、方便各类用户访问的软硬件资源的集合；

DBMS:为建立、使用和维护数据库而配置的通用软件系统

2. 数据管理技术的发展阶段特点：

**主要从数据共享性、数据独立性、数据结构化、数据控制和用户接口等角度进行分析**

- 人工管理阶段
应用程序单一，数据冗余大，数据不独立，无结构
- 文件系统阶段
可进行长期保存，但是数据共享性差，数据独立性差，数据冗余大
- 数据库系统阶段
面向全组织，面向现实世界，独立性较强，有了DBMS，由DBMS统一存取，维护数据语义及结构


3. 数据描述
概念设计、逻辑设计和物理设计等各阶段中数据描述的术语，概念设计中实体间二元关系的描述(1:1,1:N,M:N)

REMAIN TO BE SEEN

4. 数据模型
数据模型的定义，两类数据模型，逻辑模型的形式定义，ER模型，层次模型，网状模型，关系模型和面向对象模型的数据结构及其联系的实现方式

5. DBS体系结构
三级模式，两级映像，两级数据独立性，体系结构各个层次中记录的联系，DBS的组成，DBA,DBS的全局结构，DBS结构的分类

6. DBMS
DBMS的工作模式、主要功能和模块组成


此部分在周四下午进行梳理与归纳


# 第二章：关系模型
## 如下内容：
- 基本概念
- 关系代数
- 关系演算


## 重要概念
1. 关系的概念和结构
相关的重要概念主要有：

- 关系模型由数据结构、数据操作和完整性约束三部分构成。其中，数据结构就是指数据以二维表的形式进行存储，数据操作宏观上分为更新和查询，其中更新又包括增，删，改。

关系查询操作根据理论基础的不同，可以分为关系代数和关系演算。其中关系代数是以集合论为基础，而关系演算是以谓词逻辑为基础。

关系代数的主要操作包括通用的并，差，交等集合操作，此外还有如选择，投影，连接等专用的代数运算操作；关系演算则按照其谓词变量的不同分为元组关系演算和域关系演算，其中元组关系演算是以元组的形式来进行推理，而域关系演算则是以每一个元组的分量构成的域进行的演算。

- 完整性约束有四个方面的内容，分别为域完整性约束，实体完整性约束，参照完整性约束和用户自定义完整性约束。

其中域完整性约束表示的是元组在属性上的取值应该在其值域范围之内，此外还要规定元组在对应属性上的取值是否为空；

实体完整性也就是主键约束，表示的是元组在键上的取值不能重复且不能为空。

参照完整性是外键约束。指元组在外键上的取值在映射关系中的主键下一定能够找到元组取值相同，且其不能为空。

用户自定义完整性约束是用户根据实际系统的需要而添加的语义约束信息。

- 关于关系代数和关系演算细节性的方面实际上通过例题可以很好地进行分析，在此对于其方法不再进行赘述。

# 第三章：SQL结构化查询语句
## 重要内容
- SQL的体系结构，组成特点
SQL语言主要提供数据定义、数据操纵和数据控制等功能。

其中数据定义主要是对于基本表，视图，索引，模式等数据对象的定义及其修改，数据操纵语句主要用于数据的查询、插入、删除、修改，数据控制主要指的是用于用户权限的安全控制。

- SQL的三级模式
1. 视图 --> 外模式
2. 基本表 --> 模式
3. 文件 --> 内模式

- SQL相关查询语法
具体细节进行实例化掌握即可。

- 视图的概念
视图是不存储具体数据，而仅在数据目录中存放其定义的“虚表”，它提供了一种间接访问数据库中基本表的方式。

- 嵌入式SQL的概念
将SQL语句嵌入到高级语言之中。

# 第四章：数据依赖与关系模式规范化
函数依赖可能导致数据冗余和更新异常。

主要是理解数据依赖包括两个方面的内容，一个是函数依赖，另外一个是多值依赖。

其中特别值得注意的依赖有完全函数依赖/部分函数依赖，直接函数依赖/传递函数依赖

关系模式的分解有两种形式，一种称之为无损连接分解，另外一种称之为保持函数依赖分解。

范式是满足了一系列限制条件的关系模式。关系模式规范化的过程就是根据不同级别范式的要求条件对模式进行逐渐分解的过程。

关于范式我们只考虑五种，分别为1NF, 2NF, 3NF, BCNF, 4NF。

其中1NF确立关系模式的成立性，也就是关系本身是一个基本表；2NF是指消除了非主属性对于外键的部分函数依赖；3NF是指消除了非主属性对外键的传递依赖；BCNF是指消除了主属性对于键的部分依赖以及传递依赖，4NF是消除了非平凡的多值依赖的结果。

规范化算法相对而言较为直白，哪个关系不满足规范就拆谁。

# 第五章：数据库设计
## 重点掌握
- 各阶段概念
- 数据库设计的操作(根据需求描述进行概念设计和逻辑设计)

# 第六章：存储结构不做要求

# 第七章：查询处理与查询优化
## 相关概念
查询处理是从请求到结果的过程，而查询优化是从所有查询路径中选择最优的路径。

其中查询处理的基本步骤分别为：

1. 词法和语法分析，建立语法树/图；
2. 标准优化形式；
3. 确定底层的优化算法；
4. 生成查询计划

数据库查询语言可以分为解释和编译两种运行模式。

查询优化可以分为：

1. 规则优化
2. 代数优化(重点)--例题分析
3. 物理优化
4. 代价估算优化

四大连接算法：

1. 嵌套循环连接算法：自然连接，naive
2. 索引嵌套循环连接算法--关键点：建立了索引
3. 排序归并连接算法--关键点：属性有序存储，元组在属性上的排列有序
4. 散列连接算法--关键点：有散列函数进行了散列键上的操作

## 代数优化基本原则
尽量是选择和投影运算早于笛卡尔积和连接运算进行。

## 代数优化操作
代数优化的实际操作共有7条，相对简单，注意的是将树上的本题树形结构弄懂弄透。

# 第八章：事务处理
## 事务相关概念
数据库环境下由一组数据库操作序列构成的逻辑工作单元。这些操作应该是一个不可分割的整体，要么全做，要么全不做。

## ACID性质及其变迁图
- 原子性：任何事务构成的操作不可部分执行；
- 一致性：无论事务成功与否都要保持其进入一致性状态；
- 隔离性：并发事务之间各自的操作与其使用的数据互不影响；
- 持续性：事务处理的结果可在一定时段内被硬盘保存。

Atomicity, Consistency, Isolation, Durability.

## 重要概念
### 事务基础
1. 事务操作包含恢复和并发控制两个部分的内容。

2. 对事务的操作有读和写两种形式

3. 事务的状态分为活动状态，局部提交状态，提交状态，失败状态和终止状态，注意理清其连线图。

4. 故障的类别：

- 事务故障
影响单个事务运行的任何条件，成因可能是逻辑错误和系统错误两种
- 系统故障
使系统停止运转的任何事件--作用范围是所有事务
- 介质故障
物理磁盘等故障--程度最高

5. 故障恢复的核心原理： **冗余**

造成冗余的基本方式有两种，一种是**数据备份**，另外一种是**事务日志文件**。

一般采用的方法是使用数据备份的方式将系统rollback到故障事务处理前的状态，然后通过事务日志文件重新执行发生故障阶段按时序执行的事务。

- 恢复
恢复操作就是撤销(undo)故障发生时未完成的事务，并重做(redo)已完成的事务。

可以在数据库日志中使用**检测点**的恢复技术，重新开始文件，让恢复子系统在登录日志文件期间动态地进行日志维护。

### 并发控制
根据数据库处理事务的同时性与否可以分为串行和并行两种，而根据CPU的数量可以分为交叉和同时两种。这两两组合就构成了四种事务。

数据库的并发是指多个用户同时对同一数据库进行读取的情况。

- 并发执行引起的问题
1. 丢失修改
2. 读“脏”数据
3. 不可重复读

产生数据不一致的主要原因：并发破坏了事务的**隔离性**。

- 并发执行的正确性
当且仅当并发执行的结果与某次序串行地执行结果相同。

正确的并发调度 <==> 可串行化调度

### 基于锁的并发控制
加锁使事务T在数据对象释放锁之前具有绝对的控制权

- 锁的类型
1. X锁：排他锁，不可读不可写；
2. S锁：共享锁，只读；
3. U锁：更新锁，最后写入时升级为X锁，提升并发度

- 三级加锁协议
1. T --修改--> R前加X锁，T结束后释放  ==》防止丢失修改
2. 1级 + T --读取--> R前加S锁，读完释放  ==》 防止读脏数据
3. 2级 + 事务结束释放 ==》 三问题均得到解决

- 2PL
事务分为扩展阶段和收缩阶段，其中扩展阶段仅能上锁，而收缩阶段仅能释放锁。

如果所有并发执行的事务均遵守两段锁协议，则对这些事务的任何并发调度都是可串行化的。

### 死锁
**循环等待**

解决的方法：
1. 系统检测；
2. 发现并处理

- 预防死锁：
1. 一次封锁法：降低了并发度；
2. 顺序封锁法：顺序难确定；
3. 申请锁时 --> retry 时间标记法，**年轻判断原则**

- 检测并消除死锁
1. 超时法
2. 等待图法

消除： 撤销处理死锁代价最小的事务

活锁： “插队现象”(优先权) --解决方法--> “先来先服务”

- 前趋图
- 泳道图
- 调度表示

# 第九章：数据库完整性与安全性
## 完整性和安全性的概念

## SQL完整性约束、触发器和安全机制
## 自助存放控制与前置存取控制

# 第十章：NoSQL概念了解，其与关系数据库的比较

第九章与第十章的内容完全没有考，但是特别注意数据库中的事务处理部分。



 
